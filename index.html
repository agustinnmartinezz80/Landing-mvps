<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asesor√≠a Gratuita - MVP</title>
    <link rel="stylesheet" href="styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">





</head>

<body>
    <div class="container">
        <p class="subtitle">Tu proyecto en marcha en tiempo r√©cord</p>
        <h1 class="main-title">
            CONVIERTE TU IDEA<br>
            EN UN PROYECTO<br>
            <span class="highlight-glow-line">REAL, RENTABLE Y VIABLE</span>
        </h1>

        <div class="video-container">
            <video controls playsinline>
                <source src="Video-Explicacion.mp4" type="video/mp4">
                Tu navegador no soporta videos HTML5.
            </video>
        </div>

        <button class="cta-button" id="startQuiz">Asesor√≠a Gratuita</button>

        <div class="mvp-section">
            <p>Un MVP<br>
                <span class="tag-red">no es un producto incompleto</span><br>
                Es <span class="tag-green">espec√≠fico</span>
            </p>
            <hr>
            <p>Agenda y ent√©rate c√≥mo tener uno listo y funcional en <b>30 d√≠as</b></p>

            <details class="accordion">
                <summary>En tu diagn√≥stico vas a descubrir:</summary>
                <p>‚úÖ Si tu idea o proyecto tiene viabilidad t√©cnica y comercial.</p>
                <p>‚úÖ Una estimaci√≥n de inversi√≥n y tiempos realista.</p>
                <p>‚úÖ C√≥mo asegurar que el sistema pueda escalar sin rehacerse.</p>
                <p>‚úÖ Recomendaciones pr√°cticas seg√∫n el estado actual de tu negocio.</p>
            </details>

            <p class="note">*No es una reuni√≥n de venta. Es una conversaci√≥n para entender tu proyecto, analizarlo y
                darte claridad antes de avanzar.*</p>
        </div>



        <footer>@Pol√≠tica y privacidad</footer>
    </div>

    <!-- Modal -->
    <div class="modal" id="quizModal">
        <div class="modal-content" id="quizContent">
            <h3>Tipo de proyecto:</h3>
            <div class="options" id="options"></div>
            <button class="next-btn" id="nextBtn">Siguiente</button>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: "Tipo de proyecto:",
                options: ["APP", "Software", "Otro"]
            },
            {
                question: "Cantidad de empleados en tu empresa:",
                options: ["Solo yo", "De 2 a 5", "De 10 a 50", "+50"]
            },
            {
                question: "¬øCu√°l es tu cargo en la empresa?",
                options: ["Propietario", "Ejecutivo", "Director", "Gerente", "Otro"]
            },
            {
                question: "¬øEn cu√°nto tiempo te gustar√≠a tener tu proyecto en marcha?",
                options: ["Cuanto antes", "En 1 a 2 meses", "M√°s de 3 meses"]
            }
        ];

        const modal = document.getElementById("quizModal");
        const quizContent = document.getElementById("quizContent");
        const optionsDiv = document.getElementById("options");
        const nextBtn = document.getElementById("nextBtn");
        let currentQuestion = 0;
        let answers = [];

        function loadQuestion() {
            const q = quizData[currentQuestion];
            quizContent.querySelector("h3").innerText = q.question;
            optionsDiv.innerHTML = q.options.map((opt, i) => `
        <input type="radio" id="opt${i}" name="option" value="${opt}">
        <label for="opt${i}">${opt}</label>
        `).join("");
        }

        document.getElementById("startQuiz").addEventListener("click", () => {
            modal.style.display = "flex";
            currentQuestion = 0;
            answers = [];
            loadQuestion();
        });

        nextBtn.addEventListener("click", () => {
            const selected = document.querySelector("input[name='option']:checked");
            if (!selected) {
                alert("Selecciona una opci√≥n antes de continuar");
                return;
            }
            answers.push(selected.value);
            currentQuestion++;
            if (currentQuestion < quizData.length) {
                loadQuestion();
            } else {
                window.location.href = "https://calendar.app.google/ypeP2A1F6xXufmZj9";
            }
        });

        modal.addEventListener("click", (e) => {
            if (e.target === modal) modal.style.display = "none";
        });
    </script>

<script>
    // Funci√≥n para trackear eventos personalizados
    function trackPixelEvent(eventName, customData = {}) {
        if (typeof fbq !== 'undefined') {
            fbq('track', eventName, customData);
            console.log('Evento trackeado:', eventName, customData);
        }
    }

    // Funci√≥n para normalizar nombres de eventos
    function normalizeEventName(text) {
        return text.toLowerCase()
            .replace(/\s+/g, '-')
            .replace(/[^a-z0-9-]/g, '')
            .substring(0, 40);
    }

    // Funci√≥n para obtener nombre √∫nico de pregunta
    function getUniqueQuestionName(element, fallback = 'pregunta') {
        // Prioridad de atributos para el nombre de la pregunta
        return element.getAttribute('data-question-name') ||
               element.getAttribute('data-question') ||
               element.getAttribute('name') ||
               element.getAttribute('id') ||
               element.closest('.form-group')?.querySelector('label')?.textContent?.trim() ||
               element.closest('.field')?.querySelector('label')?.textContent?.trim() ||
               element.previousElementSibling?.textContent?.trim() ||
               fallback;
    }

    // Evento de View Content (cuando se carga la p√°gina)
    document.addEventListener('DOMContentLoaded', function () {
        if (typeof fbq !== 'undefined') {
            fbq('track', 'ViewContent');
        }
        setupFormEvents();
        setupButtonEvents();
        setupSpecificEvents();
    });

    // Configurar eventos del formulario CON NOMBRES √öNICOS
    function setupFormEvents() {
        const forms = document.querySelectorAll('form');
        console.log('üîç Formularios encontrados:', forms.length);

        forms.forEach((form, formIndex) => {
            console.log(`üìã Procesando formulario ${formIndex + 1}`);

            // Eventos para cada opci√≥n en selects
            const selects = form.querySelectorAll('select');
            selects.forEach((select, selectIndex) => {
                const uniqueQuestion = getUniqueQuestionName(select, `select-${selectIndex}`);
                console.log(`üìù Select ${selectIndex + 1}: "${uniqueQuestion}"`);

                select.addEventListener('change', function () {
                    const question = uniqueQuestion;
                    const answer = this.options[this.selectedIndex]?.text || this.value;

                    if (answer && answer.trim() !== '' && !answer.includes('Selecciona')) {
                        const eventName = `${normalizeEventName(question)}-${normalizeEventName(answer)}`;
                        console.log(`üéØ Disparando evento √∫nico: ${eventName}`);
                        
                        trackPixelEvent(eventName, {
                            pregunta: question,
                            respuesta: answer,
                            tipo: 'select',
                            elemento_id: this.id || 'sin-id'
                        });
                    }
                });
            });

            // Eventos para radio buttons - AGRUPADOS POR GRUPO
            const radioGroups = {};
            const radios = form.querySelectorAll('input[type="radio"]');
            
            // Agrupar radios por nombre
            radios.forEach(radio => {
                const groupName = radio.getAttribute('name');
                if (!radioGroups[groupName]) {
                    radioGroups[groupName] = [];
                }
                radioGroups[groupName].push(radio);
            });

            // Configurar eventos para cada grupo
            Object.keys(radioGroups).forEach((groupName, groupIndex) => {
                const firstRadio = radioGroups[groupName][0];
                const uniqueQuestion = getUniqueQuestionName(firstRadio, `radio-group-${groupIndex}`);
                console.log(`üìª Grupo de radio: "${uniqueQuestion}"`);

                radioGroups[groupName].forEach(radio => {
                    radio.addEventListener('change', function () {
                        if (this.checked) {
                            const question = uniqueQuestion;
                            const answer = this.value || 
                                          this.nextElementSibling?.textContent?.trim() || 
                                          this.closest('label')?.textContent?.trim() || 
                                          'opcion';

                            const eventName = `${normalizeEventName(question)}-${normalizeEventName(answer)}`;
                            console.log(`üéØ Disparando evento √∫nico: ${eventName}`);
                            
                            trackPixelEvent(eventName, {
                                pregunta: question,
                                respuesta: answer,
                                tipo: 'radio',
                                elemento_id: this.id || 'sin-id'
                            });
                        }
                    });
                });
            });

            // Eventos para checkboxes - CADA CHECKBOX INDEPENDIENTE
            const checkboxes = form.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach((checkbox, checkboxIndex) => {
                const uniqueQuestion = getUniqueQuestionName(checkbox, `checkbox-${checkboxIndex}`);
                console.log(`‚òëÔ∏è Checkbox ${checkboxIndex + 1}: "${uniqueQuestion}"`);

                checkbox.addEventListener('change', function () {
                    const question = uniqueQuestion;
                    const answer = this.value || 
                                  this.nextElementSibling?.textContent?.trim() || 
                                  this.closest('label')?.textContent?.trim() || 
                                  'opcion';
                    const action = this.checked ? 'seleccionado' : 'deseleccionado';

                    const eventName = `${normalizeEventName(question)}-${normalizeEventName(answer)}-${action}`;
                    console.log(`üéØ Disparando evento √∫nico: ${eventName}`);
                    
                    trackPixelEvent(eventName, {
                        pregunta: question,
                        respuesta: answer,
                        estado: action,
                        tipo: 'checkbox',
                        elemento_id: this.id || 'sin-id'
                    });
                });
            });

            // Evento al enviar el formulario
            form.addEventListener('submit', function (e) {
                trackPixelEvent('FormularioCompletado', {
                    form_id: this.id || 'sin_id',
                    timestamp: new Date().toISOString()
                });
            });
        });
    }

    // Configurar eventos de botones (sin cambios)
    function setupButtonEvents() {
        const buttons = document.querySelectorAll('button, .btn, [type="submit"], a.btn');

        buttons.forEach(button => {
            button.addEventListener('click', function (e) {
                const buttonText = this.textContent.trim() ||
                    this.getAttribute('aria-label') ||
                    this.getAttribute('data-text') ||
                    'boton';

                trackPixelEvent('ClickBoton', {
                    button_text: buttonText,
                    button_id: this.id || 'sin_id',
                    page_location: window.location.href
                });
            });
        });
    }

    // Eventos espec√≠ficos para elementos importantes (sin cambios)
    function setupSpecificEvents() {
        const ctas = {
            'cta-principal': 'CTA Principal',
            'contacto-btn': 'Bot√≥n Contacto',
            'whatsapp-btn': 'Bot√≥n WhatsApp',
            'demo-btn': 'Bot√≥n Demo'
        };

        Object.keys(ctas).forEach(buttonId => {
            const button = document.getElementById(buttonId);
            if (button) {
                button.addEventListener('click', function () {
                    trackPixelEvent('ClickEspecifico', {
                        button_id: buttonId,
                        button_name: ctas[buttonId]
                    });
                });
            }
        });
    }
</script>
    <!-- Meta Pixel Code -->
    <script>
        !(function (f, b, e, v, n, t, s) {
            if (f.fbq) return;
            n = f.fbq = function () {
                n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n;
            n.push = n; n.loaded = !0; n.version = '2.0';
            n.queue = [];
            t = b.createElement(e); t.async = !0;
            t.src = v;
            s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s);
        })(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');

        fbq('init', '1125110379757394');
        fbq('track', 'PageView');
    </script>
    <noscript>
        <img height="1" width="1" style="display:none"
            src="https://www.facebook.com/tr?id=1125110379757394&ev=PageView&noscript=1" />
    </noscript>
    <!-- End Meta Pixel Code -->

</body>

</html>